(function(){function e(e){const t=e.target.getAttribute("data-pager");if("prev"===t){if(0===c)return;c-=a,c<0&&(c=0),i()}if("next"===t){if(c===s-1)return;c+=a,c>s-1&&(c=s-1),i()}}function t(){const t=document.querySelector("#pager");return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}function n(e){a=Number(e.target.value),i()}function r(){const e=document.querySelector("#page-mode input");return e.setAttribute("max",s),e.addEventListener("change",n),()=>{e.removeEventListener("change",n)}}function i(){u=Math.floor(c/a);const e=u*a,t=e+a<s?e+a-1:s-1,n=[];for(let r=e;r<=t;r++)n.push(d.getPage(r+1));Promise.all(n).then(e=>{const t=`<div style="width: ${a>1?"50%":"100%"}"><canvas></canvas></div>`.repeat(e.length);h.innerHTML=t,e.forEach(o)})}function o(e){let t=e.getViewport(1);const n=h.children[e.pageIndex-u*a];t=e.getViewport(n.offsetWidth/t.width);const r=n.children[0],i=r.getContext("2d");r.height=t.height,r.width=t.width,e.render({canvasContext:i,viewport:t})}let c=0,a=1,u=Math.floor(c/a),d=null,s=0;const h=document.querySelector("#viewport");window.initPDFViewer=function(e){pdfjsLib.getDocument(e).then(e=>{d=e,s=e.numPages,t(),r(),i()})}})();